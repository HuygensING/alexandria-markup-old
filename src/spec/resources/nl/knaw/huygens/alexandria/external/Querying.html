<html xmlns:c="http://www.concordion.org/2007/concordion"
      xmlns:json="https://alexandria.huygens.knaw.nl">
<title>Querying External Resources</title>

<body>

<h1>Querying external resources</h1>

<div class="examples">
    <div c:execute="clear()" class="example">
        <h3>How can I query an external resource by its ID?</h3>

        <p>Given a resource identified by ID <code>c6b96360-c0c9-11e4-b947-6bc57448d166</code></p>

        <p>When I <b c:set="#method">GET</b> <code><b
                c:set="#endpoint">/resources/c6b96360-c0c9-11e4-b947-6bc57448d166</b></code></p>

        <p c:execute="request(#method, #endpoint)">Then:</p>
        <ol>
            <li>the response status should be <b c:assertEquals="status()">200 OK</b>;</li>
            <li>And the response body looks like:
<pre json:includesJson="response()">{
    "resource": {
        "body": "to be fixed"
    }
}</pre>
            </li>
        </ol>

    </div>

    <div c:execute="clear()" class="example">
        <h3>What happens when I try to GET a non-existent resource?</h3>

        <p>Given that no resource exists with ID <code>3ed4faaa-c0cd-11e4-a84e-83ef41cbdc44</code></p>

        <p>When I <b c:set="#method">GET</b> <code><b
                c:set="#endpoint">/resources/3ed4faaa-c0cd-11e4-a84e-83ef41cbdc44</b></code></p>

        <p c:execute="request(#method, #endpoint)">Then:</p>
        <ol>
            <li>the response status should be <b c:assertEquals="status()">404 Not Found</b>;</li>
            <li>the response body is <b c:assertEquals="response()"/> (empty).</li>
        </ol>
    </div>
</div>
</body>
</html>
