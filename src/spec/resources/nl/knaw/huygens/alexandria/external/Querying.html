<html xmlns:c="http://www.concordion.org/2007/concordion">
<title>Querying External Resources</title>

<body>

<h1>Querying external resources</h1>

<div class="example">
    <h3>How can I query an external resource by its ID?</h3>

    <p>Given a resource identified by ID <code>c6b96360-c0c9-11e4-b947-6bc57448d166</code></p>

    <p>When I <b c:set="#method">GET</b> <code><b
            c:set="#path">/resources/c6b96360-c0c9-11e4-b947-6bc57448d166</b></code></p>

    <p c:execute="#response = rest(#method, #path)">Then:</p>
    <ol>
        <li>the response status should be <b c:assertEquals="#response.status">200 OK</b>;</li>
        <li>the response body is
            <code c:assertEquals="#response.body"><pre>{ "resource":{"body": "to be fixed"} }</pre></code></li>
    </ol>

</div>

<div class="example">
    <h3>What happens when I try to GET a non-existent resource?</h3>

    <p>Given that no resource exists with ID <code>3ed4faaa-c0cd-11e4-a84e-83ef41cbdc44</code></p>
    
    <p>When I <b c:set="#method">GET</b> <code><b
            c:set="#path">/resources/3ed4faaa-c0cd-11e4-a84e-83ef41cbdc44</b></code></p>

    <p c:execute="#response = rest(#method, #path)">Then:</p>
    <ol>
        <li>the response status should be <b c:assertEquals="#response.status">404 Not Found</b>;</li>
        <li>the response body is <b c:assertEquals="#response.body"></b> (empty).</li>
    </ol>
</div>
</body>
</html>
