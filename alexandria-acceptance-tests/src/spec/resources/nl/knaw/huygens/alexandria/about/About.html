<html xmlns:h="http://huygens.knaw.nl/concordion-acceptance-test"
      xmlns:xsi="http://www.w3.org/1999/xhtml"
      xsi:schemaLocation="http://huygens.knaw.nl/concordion-acceptance-test
                          http://huygensing.github.io/alexandria/xsd/concordion-rest.xsd">

<title>About the server</title>

<body data-desc="About the server">

<div id="about" data-desc="How can I get information about the Alexandria server?">
    <h:request>
        When I <h:get>/about</h:get> then I should receive <h:status>200 OK</h:status>
        and the body contains <h:jsonResponse>{
        "buildDate": "{date.anyValid}",
        "commitId": "{git.validCommitId}",
        "scmBranch": "master",
        "startedAt": "{date.beforeNow}",
        "version": "1.0-SNAPSHOT"
    }</h:jsonResponse>
    </h:request>
</div>

<div id="homepage" data-desc="What resources does the server provide besides REST resources?">
    <h:request>
        When I <h:get>/</h:get>
            using <h:setHeader name="Accept">text/html</h:setHeader>
        then I should receive <h:status>200 OK</h:status>
    </h:request>

    <h:request>
        When I <h:get>/application.wadl</h:get>
            using <h:setHeader name="Accept">application/xml</h:setHeader>
        then I should receive <h:status>200 OK</h:status>
    </h:request>

    <h:request>
        Alexandria has an empty favicon:
        <h:get>/favicon.ico</h:get> yields <h:status>204 No Content</h:status>
    </h:request>
</div>

</body>

</html>